

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>List of environment variables &mdash; bunkerized-nginx v1.2.6 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  
    <link rel="canonical" href="https://bunkerized-nginx.readthedocs.io/en/dev/environment_variables.html" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Plugins" href="plugins.html" />
    <link rel="prev" title="Volumes list" href="volumes.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> bunkerized-nginx
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart_guide.html">Quickstart guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="security_tuning.html">Security tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="volumes.html">Volumes list</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">List of environment variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nginx">nginx</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#misc">Misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#information-leak">Information leak</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-error-pages">Custom error pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#http-basic-authentication">HTTP basic authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reverse-proxy">Reverse proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compression">Compression</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cache">Cache</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#https">HTTPS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#let-s-encrypt">Let’s Encrypt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#http">HTTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-certificate">Custom certificate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#self-signed-certificate">Self-signed certificate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Misc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#modsecurity">ModSecurity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#security-headers">Security headers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#blocking">Blocking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#antibot">Antibot</a></li>
<li class="toctree-l3"><a class="reference internal" href="#external-blacklists">External blacklists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dnsbl">DNSBL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#crowdsec">CrowdSec</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-whitelisting">Custom whitelisting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-blacklisting">Custom blacklisting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#requests-limiting">Requests limiting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connections-limiting">Connections limiting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#countries">Countries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#php">PHP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bad-behavior">Bad behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">misc</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">bunkerized-nginx</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>List of environment variables</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/environment_variables.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="list-of-environment-variables">
<h1>List of environment variables<a class="headerlink" href="#list-of-environment-variables" title="Permalink to this headline">¶</a></h1>
<div class="section" id="nginx">
<h2>nginx<a class="headerlink" href="#nginx" title="Permalink to this headline">¶</a></h2>
<div class="section" id="misc">
<h3>Misc<a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">MULTISITE</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em><br />
When set to <em>no</em>, only one server block will be generated. Otherwise one server per host defined in the <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> environment variable will be generated.<br />
Any environment variable tagged as <em>multisite</em> context can be used for a specific server block with the following format : <em>host_VARIABLE=value</em>. If the variable is used without the host prefix it will be applied to all the server blocks (but still can be overriden).</p>
<p><code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code><br />
Values : <em>&lt;first name&gt; &lt;second name&gt; …</em><br />
Default value : <em>www.bunkerity.com</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Sets the host names of the webserver separated with spaces. This must match the Host header sent by clients.<br />
Useful when used with <code class="docutils literal notranslate"><span class="pre">MULTISITE=yes</span></code> and/or <code class="docutils literal notranslate"><span class="pre">AUTO_LETSENCRYPT=yes</span></code> and/or <code class="docutils literal notranslate"><span class="pre">DISABLE_DEFAULT_SERVER=yes</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">MAX_CLIENT_SIZE</span></code><br />
Values : <em>0</em> | <em>Xm</em><br />
Default value : <em>10m</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Sets the maximum body size before nginx returns a 413 error code.<br />
Setting to 0 means “infinite” body size.</p>
<p><code class="docutils literal notranslate"><span class="pre">ALLOWED_METHODS</span></code><br />
Values : <em>allowed HTTP methods separated with | char</em><br />
Default value : <em>GET|POST|HEAD</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Only the HTTP methods listed here will be accepted by nginx. If not listed, nginx will close the connection.</p>
<p><code class="docutils literal notranslate"><span class="pre">DISABLE_DEFAULT_SERVER</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em><br />
If set to yes, nginx will only respond to HTTP request when the Host header match a FQDN specified in the <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> environment variable.<br />
For example, it will close the connection if a bot access the site with direct ip.</p>
<p><code class="docutils literal notranslate"><span class="pre">SERVE_FILES</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, nginx will serve files from /www directory within the container.<br />
A use case to not serving files is when you setup bunkerized-nginx as a reverse proxy.</p>
<p><code class="docutils literal notranslate"><span class="pre">DNS_RESOLVERS</span></code><br />
Values : <em>&lt;two IP addresses separated with a space&gt;</em><br />
Default value : <em>127.0.0.11</em><br />
Context : <em>global</em><br />
The IP addresses of the DNS resolvers to use when performing DNS lookups.</p>
<p><code class="docutils literal notranslate"><span class="pre">ROOT_FOLDER</span></code><br />
Values : <em>&lt;any valid path to web files&gt;</em><br />
Default value : <em>/www</em><br />
Context : <em>global</em><br />
The default folder where nginx will search for web files. Don’t change it unless you know what you are doing.</p>
<p><code class="docutils literal notranslate"><span class="pre">ROOT_SITE_SUBFOLDER</span></code><br />
Values : <em>&lt;any valid directory name&gt;</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
The subfolder where nginx will search for site web files.</p>
<p><code class="docutils literal notranslate"><span class="pre">LOG_FORMAT</span></code><br />
Values : <em>&lt;any values accepted by the log_format directive&gt;</em><br />
Default value : <em><span class="math notranslate nohighlight">\(host \)</span>remote_addr - <span class="math notranslate nohighlight">\(remote_user \[\)</span>time_local] “<span class="math notranslate nohighlight">\(request&quot; \)</span>status <span class="math notranslate nohighlight">\(body_bytes_sent &quot;\)</span>http_referer” “$http_user_agent”</em><br />
Context : <em>global</em><br />
The log format used by nginx to generate logs. More info <a class="reference external" href="http://nginx.org/en/docs/http/ngx_http_log_module.html#log_format">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">LOG_LEVEL</span></code><br />
Values : <em>debug, info, notice, warn, error, crit, alert, or emerg</em><br />
Default value : <em>info</em><br />
Context : <em>global</em><br />
The level of logging : <em>debug</em> means more logs and <em>emerg</em> means less logs. More info <a class="reference external" href="https://nginx.org/en/docs/ngx_core_module.html#error_log">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">HTTP_PORT</span></code><br />
Values : <em>&lt;any valid port greater than 1024&gt;</em><br />
Default value : <em>8080</em><br />
Context : <em>global</em><br />
The HTTP port number used by nginx inside the container.</p>
<p><code class="docutils literal notranslate"><span class="pre">HTTPS_PORT</span></code><br />
Values : <em>&lt;any valid port greater than 1024&gt;</em><br />
Default value : <em>8443</em><br />
Context : <em>global</em><br />
The HTTPS port number used by nginx inside the container.</p>
<p><code class="docutils literal notranslate"><span class="pre">WORKER_CONNECTIONS</span></code>
Values : <em>&lt;any positive integer&gt;</em><br />
Default value : 1024<br />
Context : <em>global</em><br />
Sets the value of the <a class="reference external" href="https://nginx.org/en/docs/ngx_core_module.html#worker_connections">worker_connections</a> directive.</p>
<p><code class="docutils literal notranslate"><span class="pre">WORKER_RLIMIT_NOFILE</span></code>
Values : <em>&lt;any positive integer&gt;</em><br />
Default value : 2048<br />
Context : <em>global</em><br />
Sets the value of the <a class="reference external" href="https://nginx.org/en/docs/ngx_core_module.html#worker_rlimit_nofile">worker_rlimit_nofile</a> directive.</p>
</div>
<div class="section" id="information-leak">
<h3>Information leak<a class="headerlink" href="#information-leak" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">SERVER_TOKENS</span></code><br />
Values : <em>on</em> | <em>off</em><br />
Default value : <em>off</em><br />
Context : <em>global</em><br />
If set to on, nginx will display server version in Server header and default error pages.</p>
<p><code class="docutils literal notranslate"><span class="pre">REMOVE_HEADERS</span></code><br />
Values : &lt;<em>list of headers separated with space</em>&gt;<br />
Default value : <em>Server X-Powered-By X-AspNet-Version X-AspNetMvc-Version</em><br />
Context : <em>global</em>, <em>multisite</em><br />
List of header to remove when sending responses to clients.</p>
</div>
<div class="section" id="custom-error-pages">
<h3>Custom error pages<a class="headerlink" href="#custom-error-pages" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ERRORS</span></code><br />
Values : <em>&lt;error1=/page1 error2=/page2&gt;</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
Use this kind of environment variable to define custom error page depending on the HTTP error code. Replace errorX with HTTP code.<br />
Example : <code class="docutils literal notranslate"><span class="pre">ERRORS=404=/404.html</span> <span class="pre">403=/403.html</span></code> the /404.html page will be displayed when 404 code is generated (same for 403 and /403.html page). The path is relative to the root web folder.</p>
</div>
<div class="section" id="http-basic-authentication">
<h3>HTTP basic authentication<a class="headerlink" href="#http-basic-authentication" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_AUTH_BASIC</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, enables HTTP basic authentication at the location <code class="docutils literal notranslate"><span class="pre">AUTH_BASIC_LOCATION</span></code> with user <code class="docutils literal notranslate"><span class="pre">AUTH_BASIC_USER</span></code> and password <code class="docutils literal notranslate"><span class="pre">AUTH_BASIC_PASSWORD</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">AUTH_BASIC_LOCATION</span></code><br />
Values : <em>sitewide</em> | <em>/somedir</em> | <em>&lt;any valid location&gt;</em><br />
Default value : <em>sitewide</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The location to restrict when <code class="docutils literal notranslate"><span class="pre">USE_AUTH_BASIC</span></code> is set to <em>yes</em>. If the special value <em>sitewide</em> is used then auth basic will be set at server level outside any location context.</p>
<p><code class="docutils literal notranslate"><span class="pre">AUTH_BASIC_USER</span></code><br />
Values : <em>&lt;any valid username&gt;</em><br />
Default value : <em>changeme</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The username allowed to access <code class="docutils literal notranslate"><span class="pre">AUTH_BASIC_LOCATION</span></code> when <code class="docutils literal notranslate"><span class="pre">USE_AUTH_BASIC</span></code> is set to yes.</p>
<p><code class="docutils literal notranslate"><span class="pre">AUTH_BASIC_PASSWORD</span></code><br />
Values : <em>&lt;any valid password&gt;</em><br />
Default value : <em>changeme</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The password of <code class="docutils literal notranslate"><span class="pre">AUTH_BASIC_USER</span></code> when <code class="docutils literal notranslate"><span class="pre">USE_AUTH_BASIC</span></code> is set to yes.</p>
<p><code class="docutils literal notranslate"><span class="pre">AUTH_BASIC_TEXT</span></code><br />
Values : <em>&lt;any valid text&gt;</em><br />
Default value : <em>Restricted area</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The text displayed inside the login prompt when <code class="docutils literal notranslate"><span class="pre">USE_AUTH_BASIC</span></code> is set to yes.</p>
</div>
<div class="section" id="reverse-proxy">
<h3>Reverse proxy<a class="headerlink" href="#reverse-proxy" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_REVERSE_PROXY</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Set this environment variable to <em>yes</em> if you want to use bunkerized-nginx as a reverse proxy.</p>
<p><code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_URL</span></code><br />
Values : &lt;<em>any valid location path</em>&gt;<br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
Only valid when <code class="docutils literal notranslate"><span class="pre">USE_REVERSE_PROXY</span></code> is set to <em>yes</em>. Let’s you define the location path to match when acting as a reverse proxy.<br />
You can set multiple url/host by adding a suffix number to the variable name like this : <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_URL_1</span></code>, <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_URL_2</span></code>, <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_URL_3</span></code>, …</p>
<p><code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_HOST</span></code><br />
Values : &lt;<em>any valid proxy_pass value</em>&gt;<br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
Only valid when <code class="docutils literal notranslate"><span class="pre">USE_REVERSE_PROXY</span></code> is set to <em>yes</em>. Let’s you define the proxy_pass destination to use when acting as a reverse proxy.<br />
You can set multiple url/host by adding a suffix number to the variable name like this : <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_HOST_1</span></code>, <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_HOST_2</span></code>, <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_HOST_3</span></code>, …</p>
<p><code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_WS</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Only valid when <code class="docutils literal notranslate"><span class="pre">USE_REVERSE_PROXY</span></code> is set to <em>yes</em>. Set it to <em>yes</em> when the corresponding <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_HOST</span></code> is a WebSocket server.<br />
You can set multiple url/host by adding a suffix number to the variable name like this : <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_WS_1</span></code>, <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_WS_2</span></code>, <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_WS_3</span></code>, …</p>
<p><code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_HEADERS</span></code><br />
Values : <em>&lt;list of custom headers separated with a semicolon like this : header1 value1;header2 value2…&gt;</em>
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
Only valid when <code class="docutils literal notranslate"><span class="pre">USE_REVERSE_PROXY</span></code> is set to <em>yes</em>.<br />
You can set multiple url/host by adding a suffix number to the variable name like this : <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_HEADERS_1</span></code>, <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_HEADERS_2</span></code>, <code class="docutils literal notranslate"><span class="pre">REVERSE_PROXY_HEADERS_3</span></code>, …</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_REAL_IP</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Set this environment variable to <em>yes</em> if you’re using bunkerized-nginx behind a reverse proxy. This means you will see the real client address instead of the proxy one inside your logs. Ssecurity tools will also then work correctly.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_REAL_IP_FROM</span></code><br />
Values : <em>&lt;list of trusted IP addresses and/or networks separated with spaces&gt;</em><br />
Default value : <em>192.168.0.0/16 172.16.0.0/12 10.0.0.0/8</em><br />
Context : <em>global</em>, <em>multisite</em><br />
When <code class="docutils literal notranslate"><span class="pre">PROXY_REAL_IP</span></code> is set to <em>yes</em>, lets you define the trusted IPs/networks allowed to send the correct client address.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_REAL_IP_HEADER</span></code><br />
Values : <em>X-Forwarded-For</em> | <em>X-Real-IP</em> | <em>custom header</em><br />
Default value : <em>X-Forwarded-For</em><br />
Context : <em>global</em>, <em>multisite</em><br />
When <code class="docutils literal notranslate"><span class="pre">PROXY_REAL_IP</span></code> is set to <em>yes</em>, lets you define the header that contains the real client IP address.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_REAL_IP_RECURSIVE</span></code><br />
Values : <em>on</em> | <em>off</em><br />
Default value : <em>on</em><br />
Context : <em>global</em>, <em>multisite</em><br />
When <code class="docutils literal notranslate"><span class="pre">PROXY_REAL_IP</span></code> is set to <em>yes</em>, setting this to <em>on</em> avoid spoofing attacks using the header defined in <code class="docutils literal notranslate"><span class="pre">PROXY_REAL_IP_HEADER</span></code>.</p>
</div>
<div class="section" id="compression">
<h3>Compression<a class="headerlink" href="#compression" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_GZIP</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
When set to <em>yes</em>, nginx will use the gzip algorithm to compress responses sent to clients.</p>
<p><code class="docutils literal notranslate"><span class="pre">GZIP_COMP_LEVEL</span></code><br />
Values : &lt;<em>any integer between 1 and 9</em>&gt;<br />
Default value : <em>5</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The gzip compression level to use when <code class="docutils literal notranslate"><span class="pre">USE_GZIP</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">GZIP_MIN_LENGTH</span></code><br />
Values : &lt;<em>any positive integer</em>&gt;<br />
Default value : <em>1000</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The minimum size (in bytes) of a response required to compress when <code class="docutils literal notranslate"><span class="pre">USE_GZIP</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">GZIP_TYPES</span></code><br />
Values : &lt;<em>list of mime types separated with space</em>&gt;<br />
Default value : <em>application/atom+xml application/javascript application/json application/rss+xml application/vnd.ms-fontobject application/x-font-opentype application/x-font-truetype application/x-font-ttf application/x-javascript application/xhtml+xml application/xml font/eot font/opentype font/otf font/truetype image/svg+xml image/vnd.microsoft.icon image/x-icon image/x-win-bitmap text/css text/javascript text/plain text/xml</em><br />
Context : <em>global</em>, <em>multisite</em><br />
List of response MIME type required to compress when <code class="docutils literal notranslate"><span class="pre">USE_GZIP</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">USE_BROTLI</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
When set to <em>yes</em>, nginx will use the brotli algorithm to compress responses sent to clients.</p>
<p><code class="docutils literal notranslate"><span class="pre">BROTLI_COMP_LEVEL</span></code><br />
Values : &lt;<em>any integer between 1 and 9</em>&gt;<br />
Default value : <em>5</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The brotli compression level to use when <code class="docutils literal notranslate"><span class="pre">USE_BROTLI</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BROTLI_MIN_LENGTH</span></code><br />
Values : &lt;<em>any positive integer</em>&gt;<br />
Default value : <em>1000</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The minimum size (in bytes) of a response required to compress when <code class="docutils literal notranslate"><span class="pre">USE_BROTLI</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BROTLI_TYPES</span></code><br />
Values : &lt;<em>list of mime types separated with space</em>&gt;<br />
Default value : <em>application/atom+xml application/javascript application/json application/rss+xml application/vnd.ms-fontobject application/x-font-opentype application/x-font-truetype application/x-font-ttf application/x-javascript application/xhtml+xml application/xml font/eot font/opentype font/otf font/truetype image/svg+xml image/vnd.microsoft.icon image/x-icon image/x-win-bitmap text/css text/javascript text/plain text/xml</em><br />
Context : <em>global</em>, <em>multisite</em><br />
List of response MIME type required to compress when <code class="docutils literal notranslate"><span class="pre">USE_BROTLI</span></code> is set to <em>yes</em>.</p>
</div>
<div class="section" id="cache">
<h3>Cache<a class="headerlink" href="#cache" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_CLIENT_CACHE</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
When set to <em>yes</em>, clients will be told to cache some files locally.</p>
<p><code class="docutils literal notranslate"><span class="pre">CLIENT_CACHE_EXTENSIONS</span></code><br />
Values : &lt;<em>list of extensions separated with |</em>&gt;<br />
Default value : <em>jpg|jpeg|png|bmp|ico|svg|tif|css|js|otf|ttf|eot|woff|woff2</em><br />
Context : <em>global</em>, <em>multisite</em><br />
List of file extensions that clients should cache when <code class="docutils literal notranslate"><span class="pre">USE_CLIENT_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">CLIENT_CACHE_CONTROL</span></code><br />
Values : &lt;<em>Cache-Control header value</em>&gt;<br />
Default value : <em>public, max-age=15552000</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Content of the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control">Cache-Control</a> header to send when <code class="docutils literal notranslate"><span class="pre">USE_CLIENT_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">CLIENT_CACHE_ETAG</span></code><br />
Values : <em>on</em> | <em>off</em><br />
Default value : <em>on</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Whether or not nginx will send the <a class="reference external" href="https://en.wikipedia.org/wiki/HTTP_ETag">ETag</a> header when <code class="docutils literal notranslate"><span class="pre">USE_CLIENT_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">USE_OPEN_FILE_CACHE</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
When set to <em>yes</em>, nginx will cache open fd, existence of directories, … See <a class="reference external" href="http://nginx.org/en/docs/http/ngx_http_core_module.html#open_file_cache">open_file_cache</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">OPEN_FILE_CACHE</span></code><br />
Values : &lt;<em>any valid open_file_cache parameters</em>&gt;<br />
Default value : <em>max=1000 inactive=20s</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Parameters to use with open_file_cache when <code class="docutils literal notranslate"><span class="pre">USE_OPEN_FILE_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">OPEN_FILE_CACHE_ERRORS</span></code><br />
Values : <em>on</em> | <em>off</em><br />
Default value : <em>on</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Whether or not nginx should cache file lookup errors when <code class="docutils literal notranslate"><span class="pre">USE_OPEN_FILE_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">OPEN_FILE_CACHE_MIN_USES</span></code><br />
Values : &lt;*any valid integer *&gt;<br />
Default value : <em>2</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The minimum number of file accesses required to cache the fd when <code class="docutils literal notranslate"><span class="pre">USE_OPEN_FILE_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">OPEN_FILE_CACHE_VALID</span></code><br />
Values : &lt;<em>any time value like Xs, Xm, Xh, …</em>&gt;<br />
Default value : <em>30s</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The time after which cached elements should be validated when <code class="docutils literal notranslate"><span class="pre">USE_OPEN_FILE_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">USE_PROXY_CACHE</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
When set to <em>yes</em>, nginx will cache responses from proxied applications. See <a class="reference external" href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_cache">proxy_cache</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_CACHE_PATH_ZONE_SIZE</span></code><br />
Values : &lt;<em>any valid size like Xk, Xm, Xg, …</em>&gt;<br />
Default value : <em>10m</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Maximum size of cached metadata when <code class="docutils literal notranslate"><span class="pre">USE_PROXY_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_CACHE_PATH_PARAMS</span></code><br />
Values : &lt;<em>any valid parameters to proxy_cache_path directive</em>&gt;<br />
Default value : <em>max_size=100m</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Parameters to use for <a class="reference external" href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_cache_path">proxy_cache_path</a> directive when <code class="docutils literal notranslate"><span class="pre">USE_PROXY_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_CACHE_METHODS</span></code><br />
Values : &lt;<em>list of HTTP methods separated with space</em>&gt;<br />
Default value : <em>GET HEAD</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The HTTP methods that should trigger a cache operation when <code class="docutils literal notranslate"><span class="pre">USE_PROXY_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_CACHE_MIN_USES</span></code><br />
Values : &lt;<em>any positive integer</em>&gt;<br />
Default value : <em>2</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The minimum number of requests before the response is cached when <code class="docutils literal notranslate"><span class="pre">USE_PROXY_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_CACHE_KEY</span></code><br />
Values : &lt;<em>list of variables</em>&gt;<br />
Default value : <em><span class="math notranslate nohighlight">\(scheme\)</span>host$request_uri</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The key used to uniquely identify a cached response when <code class="docutils literal notranslate"><span class="pre">USE_PROXY_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_CACHE_VALID</span></code><br />
Values : &lt;<em>status=time list separated with space</em>&gt;<br />
Default value : <em>200=10m 301=10m 302=1h</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Define the caching time depending on the HTTP status code (list of status=time separated with space) when <code class="docutils literal notranslate"><span class="pre">USE_PROXY_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_NO_CACHE</span></code><br />
Values : &lt;<em>list of variables</em>&gt;<br />
Default value : <em>$http_authorization</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Conditions that must be met to disable caching of the response when <code class="docutils literal notranslate"><span class="pre">USE_PROXY_CACHE</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PROXY_CACHE_BYPASS</span></code><br />
Values : &lt;<em>list of variables</em>&gt;
Default value : <em>$http_authorization</em><br />
Context : <em>global</em>, <em>multisite</em>
Conditions that must be met to bypass the cache when <code class="docutils literal notranslate"><span class="pre">USE_PROXY_CACHE</span></code> is set to <em>yes</em>.</p>
</div>
</div>
<div class="section" id="https">
<h2>HTTPS<a class="headerlink" href="#https" title="Permalink to this headline">¶</a></h2>
<div class="section" id="let-s-encrypt">
<h3>Let’s Encrypt<a class="headerlink" href="#let-s-encrypt" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">AUTO_LETS_ENCRYPT</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, automatic certificate generation and renewal will be setup through Let’s Encrypt. This will enable HTTPS on your website for free.<br />
You will need to redirect the 80 port to 8080 port inside container and also set the <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> environment variable.</p>
<p><code class="docutils literal notranslate"><span class="pre">EMAIL_LETS_ENCRYPT</span></code><br />
Values : <em>contact&#64;yourdomain.com</em><br />
Default value : <em>contact&#64;first-domain-in-server-name</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Define the contact email address declare in the certificate.</p>
</div>
<div class="section" id="http">
<h3>HTTP<a class="headerlink" href="#http" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">LISTEN_HTTP</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to no, nginx will not in listen on HTTP (port 80).<br />
Useful if you only want HTTPS access to your website.</p>
<p><code class="docutils literal notranslate"><span class="pre">REDIRECT_HTTP_TO_HTTPS</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, nginx will redirect all HTTP requests to HTTPS.</p>
</div>
<div class="section" id="custom-certificate">
<h3>Custom certificate<a class="headerlink" href="#custom-certificate" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_CUSTOM_HTTPS</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, HTTPS will be enabled with certificate/key of your choice.</p>
<p><code class="docutils literal notranslate"><span class="pre">CUSTOM_HTTPS_CERT</span></code><br />
Values : <em>&lt;any valid path inside the container&gt;</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
Full path of the certificate or bundle file to use when <code class="docutils literal notranslate"><span class="pre">USE_CUSTOM_HTTPS</span></code> is set to yes. If your chain of trust contains one or more intermediate certificate(s), you will need to bundle them into a single file (more info <a class="reference external" href="https://nginx.org/en/docs/http/configuring_https_servers.html#chains">here</a>).</p>
<p><code class="docutils literal notranslate"><span class="pre">CUSTOM_HTTPS_KEY</span></code><br />
Values : <em>&lt;any valid path inside the container&gt;</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
Full path of the key file to use when <code class="docutils literal notranslate"><span class="pre">USE_CUSTOM_HTTPS</span></code> is set to yes.</p>
</div>
<div class="section" id="self-signed-certificate">
<h3>Self-signed certificate<a class="headerlink" href="#self-signed-certificate" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">GENERATE_SELF_SIGNED_SSL</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, HTTPS will be enabled with a container generated self-signed certificate.</p>
<p><code class="docutils literal notranslate"><span class="pre">SELF_SIGNED_SSL_EXPIRY</span></code><br />
Values : <em>integer</em><br />
Default value : <em>365</em> (1 year)<br />
Context : <em>global</em>, <em>multisite</em><br />
Needs <code class="docutils literal notranslate"><span class="pre">GENERATE_SELF_SIGNED_SSL</span></code> to work.
Sets the expiry date for the self generated certificate.</p>
<p><code class="docutils literal notranslate"><span class="pre">SELF_SIGNED_SSL_COUNTRY</span></code><br />
Values : <em>text</em><br />
Default value : <em>Switzerland</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Needs <code class="docutils literal notranslate"><span class="pre">GENERATE_SELF_SIGNED_SSL</span></code> to work.
Sets the country for the self generated certificate.</p>
<p><code class="docutils literal notranslate"><span class="pre">SELF_SIGNED_SSL_STATE</span></code><br />
Values : <em>text</em>, <em>multisite</em><br />
Default value : <em>Switzerland</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Needs <code class="docutils literal notranslate"><span class="pre">GENERATE_SELF_SIGNED_SSL</span></code> to work.
Sets the state for the self generated certificate.</p>
<p><code class="docutils literal notranslate"><span class="pre">SELF_SIGNED_SSL_CITY</span></code><br />
Values : <em>text</em><br />
Default value : <em>Bern</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Needs <code class="docutils literal notranslate"><span class="pre">GENERATE_SELF_SIGNED_SSL</span></code> to work.
Sets the city for the self generated certificate.</p>
<p><code class="docutils literal notranslate"><span class="pre">SELF_SIGNED_SSL_ORG</span></code><br />
Values : <em>text</em><br />
Default value : <em>AcmeInc</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Needs <code class="docutils literal notranslate"><span class="pre">GENERATE_SELF_SIGNED_SSL</span></code> to work.
Sets the organisation name for the self generated certificate.</p>
<p><code class="docutils literal notranslate"><span class="pre">SELF_SIGNED_SSL_OU</span></code><br />
Values : <em>text</em><br />
Default value : <em>IT</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Needs <code class="docutils literal notranslate"><span class="pre">GENERATE_SELF_SIGNED_SSL</span></code> to work.
Sets the organisitional unit for the self generated certificate.</p>
<p><code class="docutils literal notranslate"><span class="pre">SELF_SIGNED_SSL_CN</span></code><br />
Values : <em>text</em><br />
Default value : <em>bunkerity-nginx</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Needs <code class="docutils literal notranslate"><span class="pre">GENERATE_SELF_SIGNED_SSL</span></code> to work.
Sets the CN server name for the self generated certificate.</p>
</div>
<div class="section" id="id1">
<h3>Misc<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">HTTP2</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, nginx will use HTTP2 protocol when HTTPS is enabled.</p>
<p><code class="docutils literal notranslate"><span class="pre">HTTPS_PROTOCOLS</span></code><br />
Values : <em>TLSv1.2</em> | <em>TLSv1.3</em> | <em>TLSv1.2 TLSv1.3</em><br />
Default value : <em>TLSv1.2 TLSv1.3</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The supported version of TLS. We recommend the default value <em>TLSv1.2 TLSv1.3</em> for compatibility reasons.</p>
</div>
</div>
<div class="section" id="modsecurity">
<h2>ModSecurity<a class="headerlink" href="#modsecurity" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">USE_MODSECURITY</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, the ModSecurity WAF will be enabled.<br />
You can include custom rules by adding .conf files into the /modsec-confs/ directory inside the container (i.e : through a volume).</p>
<p><code class="docutils literal notranslate"><span class="pre">USE_MODSECURITY_CRS</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, the <a class="reference external" href="https://coreruleset.org/">OWASP ModSecurity Core Rule Set</a> will be used. It provides generic rules to detect common web attacks.<br />
You can customize the CRS (i.e. : add WordPress exclusions) by adding custom .conf files into the /modsec-crs-confs/ directory inside the container (i.e : through a volume). Files inside this directory are included before the CRS rules. If you need to tweak (i.e. : SecRuleUpdateTargetById) put .conf files inside the /modsec-confs/ which is included after the CRS rules.</p>
<p><code class="docutils literal notranslate"><span class="pre">MODSECURITY_SEC_AUDIT_ENGINE</span></code><br />
Values : <em>On</em> | <em>Off</em> | <em>RelevantOnly</em><br />
Default value : <em>RelevantOnly</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Sets the value of the <a class="reference external" href="https://github.com/SpiderLabs/ModSecurity/wiki/Reference-Manual-%28v2.x%29#SecAuditEngine">SecAuditEngine directive</a> of ModSecurity.</p>
</div>
<div class="section" id="security-headers">
<h2>Security headers<a class="headerlink" href="#security-headers" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">X_FRAME_OPTIONS</span></code><br />
Values : <em>DENY</em> | <em>SAMEORIGIN</em> | <em>ALLOW-FROM https://www.website.net</em>
Default value : <em>DENY</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Policy to be used when the site is displayed through iframe. Can be used to mitigate clickjacking attacks.
More info <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">X_XSS_PROTECTION</span></code><br />
Values : <em>0</em> | <em>1</em> | <em>1; mode=block</em><br />
Default value : <em>1; mode=block</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Policy to be used when XSS is detected by the browser. Only works with Internet Explorer.<br />
More info <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">X_CONTENT_TYPE_OPTIONS</span></code><br />
Values : <em>nosniff</em><br />
Default value : <em>nosniff</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Tells the browser to be strict about MIME type.<br />
More info <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">REFERRER_POLICY</span></code><br />
Values : <em>no-referrer</em> | <em>no-referrer-when-downgrade</em> | <em>origin</em> | <em>origin-when-cross-origin</em> | <em>same-origin</em> | <em>strict-origin</em> | <em>strict-origin-when-cross-origin</em> | <em>unsafe-url</em><br />
Default value : <em>no-referrer</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Policy to be used for the Referer header.<br />
More info <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">FEATURE_POLICY</span></code><br />
Values : <em>&lt;directive&gt; &lt;allow list&gt;</em><br />
Default value : <em>accelerometer ‘none’; ambient-light-sensor ‘none’; autoplay ‘none’; camera ‘none’; display-capture ‘none’; document-domain ‘none’; encrypted-media ‘none’; fullscreen ‘none’; geolocation ‘none’; gyroscope ‘none’; magnetometer ‘none’; microphone ‘none’; midi ‘none’; payment ‘none’; picture-in-picture ‘none’; speaker ‘none’; sync-xhr ‘none’; usb ‘none’; vibrate ‘none’; vr ‘none’</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Tells the browser which features can be used on the website.<br />
More info <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PERMISSIONS_POLICY</span></code><br />
Values : <em>feature=(allow list)</em><br />
Default value : accelerometer=(), ambient-light-sensor=(), autoplay=(), camera=(), display-capture=(), document-domain=(), encrypted-media=(), fullscreen=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), midi=(), payment=(), picture-in-picture=(), speaker=(), sync-xhr=(), usb=(), vibrate=(), vr=()<br />
Context : <em>global</em>, <em>multisite</em><br />
Tells the browser which features can be used on the website.<br />
More info <a class="reference external" href="https://www.w3.org/TR/permissions-policy-1/">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">COOKIE_FLAGS</span></code><br />
Values : <em>* HttpOnly</em> | <em>MyCookie secure SameSite=Lax</em> | <em>…</em><br />
Default value : <em>* HttpOnly SameSite=Lax</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Adds some security to the cookies set by the server.<br />
Accepted value can be found <a class="reference external" href="https://github.com/AirisX/nginx_cookie_flag_module">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">COOKIE_AUTO_SECURE_FLAG</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
When set to <em>yes</em>, the <em>secure</em> will be automatically added to cookies when using HTTPS.</p>
<p><code class="docutils literal notranslate"><span class="pre">STRICT_TRANSPORT_SECURITY</span></code><br />
Values : <em>max-age=expireTime [; includeSubDomains] [; preload]</em><br />
Default value : <em>max-age=31536000</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Tells the browser to use exclusively HTTPS instead of HTTP when communicating with the server.<br />
More info <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">CONTENT_SECURITY_POLICY</span></code><br />
Values : <em>&lt;directive 1&gt;; &lt;directive 2&gt;; …</em><br />
Default value : <em>object-src ‘none’; frame-ancestors ‘self’; form-action ‘self’; block-all-mixed-content; sandbox allow-forms allow-same-origin allow-scripts allow-popups allow-downloads; base-uri ‘self’;</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Policy to be used when loading resources (scripts, forms, frames, …).<br />
More info <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy">here</a>.</p>
</div>
<div class="section" id="blocking">
<h2>Blocking<a class="headerlink" href="#blocking" title="Permalink to this headline">¶</a></h2>
<div class="section" id="antibot">
<h3>Antibot<a class="headerlink" href="#antibot" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_ANTIBOT</span></code><br />
Values : <em>no</em> | <em>cookie</em> | <em>javascript</em> | <em>captcha</em> | <em>recaptcha</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to another allowed value than <em>no</em>, users must complete a “challenge” before accessing the pages on your website :</p>
<ul class="simple">
<li><p><em>cookie</em> : asks the users to set a cookie</p></li>
<li><p><em>javascript</em> : users must execute a javascript code</p></li>
<li><p><em>captcha</em> : a text captcha must be resolved by the users</p></li>
<li><p><em>recaptcha</em> : use <a class="reference external" href="https://developers.google.com/recaptcha/intro">Google reCAPTCHA v3</a> score to allow/deny users</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">ANTIBOT_URI</span></code><br />
Values : <em>&lt;any valid uri&gt;</em><br />
Default value : <em>/challenge</em><br />
Context : <em>global</em>, <em>multisite</em><br />
A valid and unused URI to redirect users when <code class="docutils literal notranslate"><span class="pre">USE_ANTIBOT</span></code> is used. Be sure that it doesn’t exist on your website.</p>
<p><code class="docutils literal notranslate"><span class="pre">ANTIBOT_SESSION_SECRET</span></code><br />
Values : <em>random</em> | <em>&lt;32 chars of your choice&gt;</em><br />
Default value : <em>random</em><br />
Context : <em>global</em>, <em>multisite</em><br />
A secret used to generate sessions when <code class="docutils literal notranslate"><span class="pre">USE_ANTIBOT</span></code> is set. Using the special <em>random</em> value will generate a random one. Be sure to use the same value when you are in a multi-server environment (so sessions are valid in all the servers).</p>
<p><code class="docutils literal notranslate"><span class="pre">ANTIBOT_RECAPTCHA_SCORE</span></code><br />
Values : <em>&lt;0.0 to 1.0&gt;</em><br />
Default value : <em>0.7</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The minimum score required when <code class="docutils literal notranslate"><span class="pre">USE_ANTIBOT</span></code> is set to <em>recaptcha</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">ANTIBOT_RECAPTCHA_SITEKEY</span></code><br />
Values : <em>&lt;public key given by Google&gt;</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
The sitekey given by Google when <code class="docutils literal notranslate"><span class="pre">USE_ANTIBOT</span></code> is set to <em>recaptcha</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">ANTIBOT_RECAPTCHA_SECRET</span></code><br />
Values : <em>&lt;private key given by Google&gt;</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
The secret given by Google when <code class="docutils literal notranslate"><span class="pre">USE_ANTIBOT</span></code> is set to <em>recaptcha</em>.</p>
</div>
<div class="section" id="external-blacklists">
<h3>External blacklists<a class="headerlink" href="#external-blacklists" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">BLOCK_USER_AGENT</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, block clients with “bad” user agent.<br />
Blacklist can be found <a class="reference external" href="https://raw.githubusercontent.com/mitchellkrogza/nginx-ultimate-bad-bot-blocker/master/_generator_lists/bad-user-agents.list">here</a> and <a class="reference external" href="https://raw.githubusercontent.com/JayBizzle/Crawler-Detect/master/raw/Crawlers.txt">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BLOCK_TOR_EXIT_NODE</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Is set to yes, will block known TOR exit nodes.<br />
Blacklist can be found <a class="reference external" href="https://iplists.firehol.org/?ipset=tor_exits">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BLOCK_PROXIES</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Is set to yes, will block known proxies.<br />
Blacklist can be found <a class="reference external" href="https://iplists.firehol.org/?ipset=firehol_proxies">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BLOCK_ABUSERS</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Is set to yes, will block known abusers.<br />
Blacklist can be found <a class="reference external" href="https://iplists.firehol.org/?ipset=firehol_abusers_30d">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BLOCK_REFERRER</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
Is set to yes, will block known bad referrer header.<br />
Blacklist can be found <a class="reference external" href="https://raw.githubusercontent.com/mitchellkrogza/nginx-ultimate-bad-bot-blocker/master/_generator_lists/bad-referrers.list">here</a>.</p>
</div>
<div class="section" id="dnsbl">
<h3>DNSBL<a class="headerlink" href="#dnsbl" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_DNSBL</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to <em>yes</em>, DNSBL checks will be performed to the servers specified in the <code class="docutils literal notranslate"><span class="pre">DNSBL_LIST</span></code> environment variable.</p>
<p><code class="docutils literal notranslate"><span class="pre">DNSBL_LIST</span></code><br />
Values : <em>&lt;list of DNS zones separated with spaces&gt;</em><br />
Default value : <em>bl.blocklist.de problems.dnsbl.sorbs.net sbl.spamhaus.org xbl.spamhaus.org</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The list of DNSBL zones to query when <code class="docutils literal notranslate"><span class="pre">USE_DNSBL</span></code> is set to <em>yes</em>.</p>
</div>
<div class="section" id="crowdsec">
<h3>CrowdSec<a class="headerlink" href="#crowdsec" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_CROWDSEC</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to <em>yes</em>, <a class="reference external" href="https://github.com/crowdsecurity/crowdsec">CrowdSec</a> will be enabled. Please note that you need a CrowdSec instance running see example <a class="reference external" href="https://github.com/bunkerity/bunkerized-nginx/tree/master/examples/crowdsec">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">CROWDSEC_HOST</span></code><br />
Values : <em>&lt;full URL to the CrowdSec instance API&gt;</em><br />
Default value :<br />
Context : <em>global</em><br />
The full URL to the CrowdSec API.</p>
<p><code class="docutils literal notranslate"><span class="pre">CROWDSEC_KEY</span></code><br />
Values : <em>&lt;CrowdSec bouncer key&gt;</em><br />
Default value :<br />
Context : <em>global</em><br />
The CrowdSec key given by <em>cscli bouncer add BouncerName</em>.</p>
</div>
<div class="section" id="custom-whitelisting">
<h3>Custom whitelisting<a class="headerlink" href="#custom-whitelisting" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_WHITELIST_IP</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to <em>yes</em>, lets you define custom IP addresses to be whitelisted through the <code class="docutils literal notranslate"><span class="pre">WHITELIST_IP_LIST</span></code> environment variable.</p>
<p><code class="docutils literal notranslate"><span class="pre">WHITELIST_IP_LIST</span></code><br />
Values : <em>&lt;list of IP addresses and/or network CIDR blocks separated with spaces&gt;</em><br />
Default value : <em>23.21.227.69 40.88.21.235 50.16.241.113 50.16.241.114 50.16.241.117 50.16.247.234 52.204.97.54 52.5.190.19 54.197.234.188 54.208.100.253 54.208.102.37 107.21.1.8</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The list of IP addresses and/or network CIDR blocks to whitelist when <code class="docutils literal notranslate"><span class="pre">USE_WHITELIST_IP</span></code> is set to <em>yes</em>. The default list contains IP addresses of the <a class="reference external" href="https://help.duckduckgo.com/duckduckgo-help-pages/results/duckduckbot/">DuckDuckGo crawler</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">USE_WHITELIST_REVERSE</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to <em>yes</em>, lets you define custom reverse DNS suffixes to be whitelisted through the <code class="docutils literal notranslate"><span class="pre">WHITELIST_REVERSE_LIST</span></code> environment variable.</p>
<p><code class="docutils literal notranslate"><span class="pre">WHITELIST_REVERSE_LIST</span></code><br />
Values : <em>&lt;list of reverse DNS suffixes separated with spaces&gt;</em><br />
Default value : <em>.googlebot.com .google.com .search.msn.com .crawl.yahoot.net .crawl.baidu.jp .crawl.baidu.com .yandex.com .yandex.ru .yandex.net</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The list of reverse DNS suffixes to whitelist when <code class="docutils literal notranslate"><span class="pre">USE_WHITELIST_REVERSE</span></code> is set to <em>yes</em>. The default list contains suffixes of major search engines.</p>
<p><code class="docutils literal notranslate"><span class="pre">WHITELIST_USER_AGENT</span></code><br />
Values : <em>&lt;list of regexes separated with spaces&gt;</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
Whitelist user agent from being blocked by <code class="docutils literal notranslate"><span class="pre">BLOCK_USER_AGENT</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">WHITELIST_URI</span></code><br />
Values : <em>&lt;list of URI separated with spaces&gt;</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
URI listed here have security checks like bad user-agents, bad IP, … disabled. Useful when using callbacks for example.</p>
</div>
<div class="section" id="custom-blacklisting">
<h3>Custom blacklisting<a class="headerlink" href="#custom-blacklisting" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_BLACKLIST_IP</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to <em>yes</em>, lets you define custom IP addresses to be blacklisted through the <code class="docutils literal notranslate"><span class="pre">BLACKLIST_IP_LIST</span></code> environment variable.</p>
<p><code class="docutils literal notranslate"><span class="pre">BLACKLIST_IP_LIST</span></code><br />
Values : <em>&lt;list of IP addresses and/or network CIDR blocks separated with spaces&gt;</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
The list of IP addresses and/or network CIDR blocks to blacklist when <code class="docutils literal notranslate"><span class="pre">USE_BLACKLIST_IP</span></code> is set to <em>yes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">USE_BLACKLIST_REVERSE</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to <em>yes</em>, lets you define custom reverse DNS suffixes to be blacklisted through the <code class="docutils literal notranslate"><span class="pre">BLACKLIST_REVERSE_LIST</span></code> environment variable.</p>
<p><code class="docutils literal notranslate"><span class="pre">BLACKLIST_REVERSE_LIST</span></code><br />
Values : <em>&lt;list of reverse DNS suffixes separated with spaces&gt;</em><br />
Default value : <em>.shodan.io</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The list of reverse DNS suffixes to blacklist when <code class="docutils literal notranslate"><span class="pre">USE_BLACKLIST_REVERSE</span></code> is set to <em>yes</em>.</p>
</div>
<div class="section" id="requests-limiting">
<h3>Requests limiting<a class="headerlink" href="#requests-limiting" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_LIMIT_REQ</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, the amount of HTTP requests made by a user for a given resource will be limited during a period of time.<br />
More info rate limiting <a class="reference external" href="https://www.nginx.com/blog/rate-limiting-nginx/">here</a> (the key used is <span class="math notranslate nohighlight">\(binary_remote_addr\)</span>uri).</p>
<p><code class="docutils literal notranslate"><span class="pre">LIMIT_REQ_RATE</span></code><br />
Values : <em>Xr/s</em> | <em>Xr/m</em><br />
Default value : <em>1r/s</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The rate limit to apply when <code class="docutils literal notranslate"><span class="pre">USE_LIMIT_REQ</span></code> is set to <em>yes</em>. Default is 1 request to the same URI and from the same IP per second.</p>
<p><code class="docutils literal notranslate"><span class="pre">LIMIT_REQ_BURST</span></code><br />
Values : <em>&lt;any valid integer&gt;</em><br />
Default value : <em>2</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The number of requests to put in queue before rejecting requests.</p>
<p><code class="docutils literal notranslate"><span class="pre">LIMIT_REQ_CACHE</span></code><br />
Values : <em>Xm</em> | <em>Xk</em><br />
Default value : <em>10m</em><br />
Context : <em>global</em><br />
The size of the cache to store information about request limiting.</p>
</div>
<div class="section" id="connections-limiting">
<h3>Connections limiting<a class="headerlink" href="#connections-limiting" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">USE_LIMIT_CONN</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, the number of connections made by an ip will be limited during a period of time. (ie. very small/weak ddos protection)<br />
More info connections limiting <a class="reference external" href="http://nginx.org/en/docs/http/ngx_http_limit_conn_module.html">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">LIMIT_CONN_MAX</span></code><br />
Values : <em>&lt;any valid integer&gt;</em><br />
Default value : <em>50</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The maximum number of connections per ip to put in queue before rejecting requests.</p>
<p><code class="docutils literal notranslate"><span class="pre">LIMIT_CONN_CACHE</span></code><br />
Values : <em>Xm</em> | <em>Xk</em><br />
Default value : <em>10m</em><br />
Context : <em>global</em><br />
The size of the cache to store information about connection limiting.</p>
</div>
<div class="section" id="countries">
<h3>Countries<a class="headerlink" href="#countries" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">BLACKLIST_COUNTRY</span></code><br />
Values : <em>&lt;country code 1&gt; &lt;country code 2&gt; …</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
Block some countries from accessing your website. Use 2 letters country code separated with space.</p>
<p><code class="docutils literal notranslate"><span class="pre">WHITELIST_COUNTRY</span></code><br />
Values : <em>&lt;country code 1&gt; &lt;country code 2&gt; …</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
Only allow specific countries accessing your website. Use 2 letters country code separated with space.</p>
</div>
</div>
<div class="section" id="php">
<h2>PHP<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">REMOTE_PHP</span></code><br />
Values : <em>&lt;any valid IP/hostname&gt;</em><br />
Default value :<br />
Context : <em>global</em>, <em>multisite</em><br />
Set the IP/hostname address of a remote PHP-FPM to execute .php files.</p>
<p><code class="docutils literal notranslate"><span class="pre">REMOTE_PHP_PATH</span></code><br />
Values : <em>&lt;any valid absolute path&gt;</em><br />
Default value : <em>/app</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The path where the PHP files are located inside the server specified in <code class="docutils literal notranslate"><span class="pre">REMOTE_PHP</span></code>.</p>
</div>
<div class="section" id="bad-behavior">
<h2>Bad behavior<a class="headerlink" href="#bad-behavior" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">USE_BAD_BEHAVIOR</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>yes</em><br />
Context : <em>global</em>, <em>multisite</em><br />
If set to yes, bunkerized-nginx will block users getting too much “suspicious” HTTP codes in a period of time.</p>
<p><code class="docutils literal notranslate"><span class="pre">BAD_BEHAVIOR_STATUS_CODES</span></code><br />
Values : <em>&lt;HTTP status codes separated with space&gt;</em><br />
Default value : <em>400 401 403 404 405 429 444</em><br />
Context : <em>global</em>, <em>multisite</em><br />
List of HTTP status codes considered as “suspicious”.</p>
<p><code class="docutils literal notranslate"><span class="pre">BAD_BEHAVIOR_THRESHOLD</span></code><br />
Values : <em><any positive integer></em><br />
Default value : <em>10</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The number of “suspicious” HTTP status code before the corresponding IP is banned.</p>
<p><code class="docutils literal notranslate"><span class="pre">BAD_BEHAVIOR_BAN_TIME</span></code><br />
Values : <em><any positive integer></em><br />
Default value : <em>86400</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The duration time (in seconds) of a ban when the corresponding IP has reached the <code class="docutils literal notranslate"><span class="pre">BAD_BEHAVIOR_THRESHOLD</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BAD_BEHAVIOR_COUNT_TIME</span></code><br />
Values : <em><any positive integer></em><br />
Default value : <em>60</em><br />
Context : <em>global</em>, <em>multisite</em><br />
The duration time (in seconds) before the counter of “suspicious” HTTP is reset.</p>
</div>
<div class="section" id="id2">
<h2>misc<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">SWARM_MODE</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em><br />
Only set to <em>yes</em> when you use <em>bunkerized-nginx</em> with <em>autoconf</em> feature in swarm mode. More info <a class="reference external" href="#swarm-mode">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">USE_API</span></code><br />
Values : <em>yes</em> | <em>no</em><br />
Default value : <em>no</em><br />
Context : <em>global</em><br />
Only set to <em>yes</em> when you use <em>bunkerized-nginx</em> with <em>autoconf</em> feature in swarm mode. More info <a class="reference external" href="#swarm-mode">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">API_URI</span></code><br />
Values : <em>random</em> | <em>&lt;any valid URI path&gt;</em><br />
Default value : <em>random</em><br />
Context : <em>global</em><br />
Set it to a random path when you use <em>bunkerized-nginx</em> with <em>autoconf</em> feature in swarm mode. More info <a class="reference external" href="#swarm-mode">here</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">API_WHITELIST_IP</span></code><br />
Values : <em>&lt;list of IP/CIDR separated with space&gt;</em><br />
Default value : <em>192.168.0.0/16 172.16.0.0/12 10.0.0.0/8</em><br />
Context : <em>global</em><br />
List of IP/CIDR block allowed to send API order using the <code class="docutils literal notranslate"><span class="pre">API_URI</span></code> uri.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="plugins.html" class="btn btn-neutral float-right" title="Plugins" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="volumes.html" class="btn btn-neutral float-left" title="Volumes list" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, bunkerity.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>